(this["webpackJsonpcar-configurator"]=this["webpackJsonpcar-configurator"]||[]).push([[0],{143:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);n(79);var o=n(23),a=n.n(o),i=n(78),s=n.n(i),r=(n(143),n(0)),c=n(1),l=n(7),d=n(2),u=n(3),m=n(4),g=n(55),b=n(56),h=n(24),p={};p.$={THREE:m,GLTFLoader:g.a,OrbitControls:b.a,TWEEN:h.a},p.WebGL={},p.WebXR={},p.WebGL.createScene=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#000",o=new m.Scene,a=new m.PerspectiveCamera(45,e/t,.1,1e3),i=new m.WebGLRenderer({antialias:!0}),s=new b.a(a,i.domElement);o.background=new m.Color(n),s.enablePan=!1,s.autoRotate=!0,s.autoRotateSpeed=.8,s.enableDamping=!0,s.dampingFactor=.05,i.setSize(e,t);var r=[new m.PointLight(16772744,1,100,2),new m.PointLight(16777215,1),new m.PointLight(16777215,1),new m.PointLight(16777215,1),new m.PointLight(16777215,1)];function c(){requestAnimationFrame(c),p.WebGL.renderLoop(),i.render(o,a),s.update(),h.a.update()}r[0].power=0,r[1].power=0,r[2].power=0,r[3].power=0,r[4].power=0,r[0].position.set(0,3,0),r[1].position.set(0,0,4),r[2].position.set(0,0,-4),r[3].position.set(4,0,0),r[4].position.set(-4,0,0),r.forEach((function(e){o.add(e)})),i.physicallyCorrectLights=!0,i.outputEncoding=m.sRGBEncoding,i.shadowMap.enabled=!0,i.toneMapping=m.ReinhardToneMapping,i.setPixelRatio(window.devicePixelRatio),i.toneMappingExposure=Math.pow(.38,5),i.shadowMap.enabled=!0,c();var l=new m.Mesh(new m.BoxGeometry(2,1,0),new m.MeshStandardMaterial({transparent:!0,opacity:0}));return l.position.set(0,-1,20),o.add(l),{scene:o,camera:a,lights:r,renderer:i,controls:s,pointer:l}},p.WebGL.renderLoop=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===e?p.WebGL.renderLoop.array.forEach((function(e){e()})):p.WebGL.renderLoop.array.push(e)},p.WebGL.renderLoop.array=[],p.WebGL.loadModel=function(e,t){(new g.a).load(e,(function(e){e.scene&&(e=e.scene),e.traverse((function(e){e.isMesh&&(e.material.emissive=e.material.color,e.material.emissiveMap=e.material.map)})),t(e)}))},p.WebGL.setOrbitPosition=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1500,o=e.object,a={x:o.position.x,y:o.position.y,z:o.position.z},i=t;e.enabled=!1,e.autoRotate=!1,new h.a.Tween(a).to(i,n).onUpdate((function(t){o.position.set(t.x,t.y,t.z),e.update()})).easing(h.a.Easing.Quintic.Out).onComplete((function(){e.enabled=!0,e.update()})).start()},p.WebGL.getMesh=function(e,t){var n=[];return function e(o){"Mesh"===o.type&&o.name===t&&n.push(o);for(var a=0;a<o.children.length;a++)e(o.children[a])}(e),n},p.WebGL.meshTransit=function(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=p.WebGL.getMesh(e,t)[0],i=a.material;function s(e,t,n){new h.a.Tween(e).to(t,o).onUpdate((function(e){"color"!==n&&"emissive"!==n||(i[n]=e),"opacity"===n&&(i[n]=e.val)})).start()}Object.keys(n).forEach((function(e){var t,o;if("color"===e||"emissive"===e){var a=new m.Color(n[e]);t={r:i[e].r,g:i[e].g,b:i[e].b},o={r:a.r,g:a.g,b:a.b}}"opacity"===e&&(t={val:i[e]},o={val:n[e]}),s(t,o,e)}))};var f=p,v={"Ford Mustang GT350R":{file:"models/ford_mustang_gt350r.glb",logo:"models/ford_mustang_gt350r.png",init:{lights:[{x:1,y:1,z:1},{x:-1,y:1,z:1}]},edit:{Paint:{icon:"images/menu/paint.png",focus:{x:-2.16,y:.72,z:1.07},mesh:["object001_Material015_0"],items:{Red:{bg:"#e80202",trans:{color:"#e80202"}},Orange:{bg:"#b26201",trans:{color:"#ff33cc"}},Green:{bg:"#006600",trans:{color:"#003300"}}}},Wheels:{icon:"images/menu/wheels.png",focus:{x:1.6,y:-1.18,z:-1.63},mesh:["wheel003_rim_0001","wheel002_rim_0001","wheel000_rim_0","wheel001_rim_0001"],items:{Black:{bg:"#333333",trans:{color:"#131313"}},Silver:{bg:"#777777",trans:{color:"#808080"}},Copper:{bg:"#331a00",trans:{color:"#1a0d00"}}}},Windows:{icon:"images/menu/glasses.png",focus:{x:.96,y:.87,z:-.57},mesh:["object_Windows_0"],items:{Black:{bg:"#000000",trans:{color:"#000000"}},Silver:{bg:"#222222",trans:{color:"#030303"}}}},Plastic:{icon:"images/menu/metal.png",focus:{x:.42,y:-.47,z:-2.59},mesh:["object008_Shiny_Black_0"],items:{Silver:{bg:"#000000",trans:{color:"#010101"}},Black:{bg:"#333333",trans:{color:"#111111"}}}},Interior:{icon:"images/menu/seats.png",focus:{x:-1.81,y:-.13,z:1.1},mesh:["object016_Material013_0"],items:{Black:{bg:"#000000",trans:{color:"#000000"}},Silver:{bg:"#222222",trans:{color:"#222222"}},Brown:{bg:"#331a00",trans:{color:"#180d01"}}}}}},"McLaren MP4-12C":{file:"models/mclaren_mp4_12c.glb",logo:"models/mclaren_mp4_12c.png",init:{lights:[{x:1,y:1,z:1},{x:-1,y:1,z:1}]},edit:{Paint:{icon:"images/menu/paint.png",focus:{x:-2.16,y:.72,z:1.07},mesh:["object016_Material005_0"],items:{Orange:{bg:"#ff3e00",trans:{color:"#ff3e00"}},Red:{bg:"#cc0000",trans:{color:"#cc0000"}},Green:{bg:"#006600",trans:{color:"#003300"}},Blue:{bg:"#0033cc",trans:{color:"#0033cc"}}}},Wheels:{icon:"images/menu/wheels.png",focus:{x:1.6,y:-1.18,z:-1.63},mesh:["wheel002_object_Material014_0","wheel003_object010_Material014_0","wheel000_object002_Material014_0","wheel001_object008_Material014_0"],items:{Light:{bg:"#333333",trans:{color:"#555555"}},Silver:{bg:"#777777",trans:{color:"#FFFFFF"}},Black:{bg:"#111111",trans:{color:"#050505"}},Copper:{bg:"#331a00",trans:{color:"#1a0d00"}}}},Windows:{icon:"images/menu/glasses.png",focus:{x:1.59,y:1.32,z:.2},mesh:["object032_object069_Material001_0"],items:{Black:{bg:"#000000",trans:{color:"#000000"}},Silver:{bg:"#222222",trans:{color:"#030303"}}}},Plastic:{icon:"images/menu/metal.png",focus:{x:.42,y:-.47,z:-2.59},mesh:["object015_object047_cb_0"],items:{Silver:{bg:"#555555",trans:{color:"#FFFFFF"}},Black:{bg:"#111111",trans:{color:"#111111"}}}},Interior:{icon:"images/menu/seats.png",focus:{x:-1.81,y:-.13,z:1.1},mesh:["object000_object074_Material021_0"],items:{Black:{bg:"#000000",trans:{color:"#000000"}},Silver:{bg:"#222222",trans:{color:"#222222"}},Brown:{bg:"#331a00",trans:{color:"#180d01"}}}}}},"Nissan Z Proto":{file:"models/nissan_z_proto.glb",logo:"models/nissan_z_proto.png",init:{lights:[{x:1,y:1,z:1},{x:-1,y:1,z:1}]},edit:{Paint:{icon:"images/menu/paint.png",focus:{x:-2.16,y:.72,z:1.07},mesh:["Mesh_1"],items:{Yellow:{bg:"#cca100",trans:{color:"#cca100"}},Red:{bg:"#cc0000",trans:{color:"#cc0000"}},Green:{bg:"#006600",trans:{color:"#003300"}},Blue:{bg:"#3333ff",trans:{color:"#000066"}}}},Wheels:{icon:"images/menu/wheels.png",focus:{x:1.6,y:-1.18,z:-1.63},mesh:["Mesh_7"],items:{Black:{bg:"#070301",trans:{color:"#070301"}},Silver:{bg:"#777777",trans:{color:"#808080"}},Copper:{bg:"#331a00",trans:{color:"#1a0d00"}}}},Plastic:{icon:"images/menu/metal.png",focus:{x:.42,y:-.47,z:-2.59},mesh:["Mesh_10"],items:{Silver:{bg:"#000000",trans:{color:"#000000"}},Black:{bg:"#333333",trans:{color:"#050505"}}}}}},"Nissan Fairlady Z":{file:"models/nissan_fairlady.glb",logo:"models/nissan_fairlady.png",init:{lights:{obj_1:{x:.47,y:-1.15,z:.9},obj_2:{x:-.43,y:-1.15,z:.9}}},edit:{Paint:{icon:"images/menu/paint.png",audio:"audio/spray.mp3",focus:{x:-2.22,y:.43,z:.42},mesh:["Object_17"],items:{Red:{bg:"#990000",trans:{color:"#210001"}},Green:{bg:"#006600",trans:{color:"#003300"}},Blue:{bg:"#000066",trans:{color:"#00004d"}},Gold:{bg:"#b39800",trans:{color:"#806c00"}}}},Wheels:{icon:"images/menu/wheels.png",audio:"audio/spray.mp3",focus:{x:1.4,y:-1.06,z:-1.43},mesh:["Object_23"],items:{Black:{bg:"#111111",trans:{color:"#111111"}},Gold:{bg:"#b39800",trans:{color:"#b39800"}},Silver:{bg:"#808080",trans:{color:"#808080"}}}},Metal:{icon:"images/menu/metal.png",audio:"audio/metal.mp3",focus:{x:.8,y:-.93,z:-2.07},mesh:["Object_19"],items:{Black:{bg:"#040404",trans:{color:"#040404"}},Silver:{bg:"#666666",trans:{color:"#666666"}},Gold:{bg:"#b39800",trans:{color:"#332b00"}}}},Frame:{icon:"images/menu/frame.png",audio:"audio/metal.mp3",focus:{x:-1.77,y:-.38,z:-.71},mesh:["Object_12"],items:{Silver:{bg:"#424242",trans:{color:"#424242"}},Black:{bg:"#000000",trans:{color:"#000000"}},Gold:{bg:"#b39800",trans:{color:"#b39800"}}}},Interior:{icon:"images/menu/seats.png",audio:"audio/spray.mp3",focus:{x:1.72,y:-.01,z:.29},mesh:["Object_28"],items:{Silver:{bg:"#424242",trans:{color:"#040404"}},Black:{bg:"#000000",trans:{color:"#000000"}},Brown:{bg:"#331a00",trans:{color:"#1a0d00"}}}}}}},w=v,x=(n(146),n(147),n(8)),y=function(e){Object(d.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(r.a)(this,n),(o=t.call(this,e)).state={modelIndex:-1,editIndex:null,switchBusy:!1,menuItems:[]},o.lastModel=o.lastModel.bind(Object(l.a)(o)),o.nextModel=o.nextModel.bind(Object(l.a)(o)),o.setEdit=o.setEdit.bind(Object(l.a)(o)),o.setConf=o.setConf.bind(Object(l.a)(o)),o}return Object(c.a)(n,[{key:"lastModel",value:function(){this.switchModel(-1)}},{key:"nextModel",value:function(){this.switchModel(1)}},{key:"switchModel",value:function(e){if(!this.state.switchBusy){var t=this.state.modelIndex;t+=e;var n=Object.keys(w).length;t>=n?t=0:t<=-1&&(t=n-1),this.setState({modelIndex:t,switchBusy:!0});var o=this;!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};L.model&&I((function(){L.model&&L.scene.remove(L.model)}));W((function(){S(e,(function(){B(),L.controls.autoRotate=!0,t(Object.values(w)[e].edit)}))}))}(t,(function(e){o.setState({switchBusy:!1,menuItems:e,editIndex:null})}))}}},{key:"getLogo",value:function(){return-1===this.state.modelIndex?{}:{backgroundImage:"url("+Object.values(w)[this.state.modelIndex].logo+")"}}},{key:"getLoading",value:function(){return this.state.switchBusy?Object(x.jsx)("div",{className:"Loading"}):[]}},{key:"setEdit",value:function(e){if(!this.state.switchBusy){var t=e.target.innerHTML;this.state.editIndex===t?(this.setState({editIndex:null}),W()):(this.setState({editIndex:t}),function(e,t){var n=Object.values(w)[e].edit[t].focus;f.WebGL.setOrbitPosition(L.controls,n,1e3)}(this.state.modelIndex,t))}}},{key:"setConf",value:function(e){if(!this.state.switchBusy){var t=this.state.editIndex,n=e.target.lang,o=Object.values(w)[this.state.modelIndex].edit[t].mesh,a=Object.values(w)[this.state.modelIndex].edit[t].items[n].trans;o.forEach((function(e){f.WebGL.meshTransit(L.model,e,a,300)}))}}},{key:"buildMenu",value:function(){var e=this,t=[],n=this.state.menuItems;return Object.keys(n).forEach((function(o){var a="url(".concat(n[o].icon,")"),i="";o===e.state.editIndex&&(i="edit_type_open"),t.push(Object(x.jsx)("div",{id:i,className:"edit_type",style:{backgroundImage:a},onClick:e.setEdit,children:o},o))})),t}},{key:"buildEdit",value:function(){if(null===this.state.editIndex)return[];if(void 0===Object.values(w)[this.state.modelIndex].edit[this.state.editIndex])return[];var e=this,t=[],n=Object.values(w)[this.state.modelIndex].edit[this.state.editIndex].items;return Object.keys(n).forEach((function(o){t.push(Object(x.jsx)("div",{style:{backgroundColor:n[o].bg},lang:o,className:"edit_item",onClick:e.setConf},o))})),t}},{key:"componentDidMount",value:function(){this.nextModel()}},{key:"render",value:function(){var e="",t="";return null!==this.state.editIndex&&(e="menu_outer_open",t="edit_outer_open"),Object(x.jsxs)("div",{children:[this.getLoading(),Object(x.jsx)("div",{className:"ModelLogo",style:this.getLogo()}),Object(x.jsx)("div",{className:"CanvasRoot"}),Object(x.jsx)("button",{className:"switch switch_l",onClick:this.lastModel}),Object(x.jsx)("button",{className:"switch switch_r",onClick:this.nextModel}),Object(x.jsx)("center",{className:"edit_outer",id:t,children:Object(x.jsx)("div",{className:"edit",children:this.buildEdit()})}),Object(x.jsx)("center",{className:"menu_outer",id:e,children:Object(x.jsx)("div",{className:"menu",children:this.buildMenu()})}),Object(x.jsx)("div",{className:"arimac_logo arimac_logo_white"})]})}}]),n}(o.Component),_=window.innerWidth,j=window.innerHeight,M=f.$.THREE;function O(){return!(window.innerWidth>=window.innerHeight)}var L=f.WebGL.createScene(_,j);L.ground=new M.Mesh(new M.PlaneGeometry(38,38),new M.MeshStandardMaterial({transparent:!0,opacity:.16})),L.ground.rotation.x=-Math.PI/2;var k=(new M.TextureLoader).load("textures/mat_floor.jpg");k.wrapS=M.RepeatWrapping,k.wrapT=M.RepeatWrapping,k.repeat.set(22,22),L.ground.material.map=k,L.ground.material.bumpMap=k,L.ground.material.bumpScale=.1,L.ground.receiveShadow=!0,L.scene.add(L.ground);var z=f.$.TWEEN;function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};f.WebGL.loadModel(Object.values(w)[e].file,(function(e){L.model=e,e.position.set(0,-1.25,0),O()&&e.scale.set(.5,.5,.5),L.scene.add(e),setTimeout(t,100)}))}function W(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t={x:1.72,y:-.19,z:3.67};f.WebGL.setOrbitPosition(L.controls,t,1e3),L.controls.autoRotate=!0,setTimeout(e,1e3)}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t={a:0,b:0,c:0,d:0,e:0},n={a:102500,b:12021,c:12021,d:12021,e:12021};new z.Tween(t).to(n,700).onUpdate((function(e){Object.values(e).forEach((function(e,t){L.lights[t].power=e}))})).start(),setTimeout(e,700)}function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t={a:102500,b:12021,c:12021,d:12021,e:12021},n={a:0,b:0,c:0,d:0,e:0};new z.Tween(t).to(n,700).onUpdate((function(e){Object.values(e).forEach((function(e,t){L.lights[t].power=e}))})).start(),setTimeout(e,700)}L.controls.autoRotate=!0,L.controls.maxPolarAngle=1.6,L.controls.maxDistance=4,L.controls.minDistance=2,L.camera.position.set(1.72,-.19,3.67),L.controls.target.set(0,-1,0),L.ground.position.set(0,-1.25,0),window.addEventListener("load",(function(){document.querySelector(".CanvasRoot").appendChild(L.renderer.domElement)})),window.addEventListener("resize",(function(){_=window.innerWidth,j=window.innerHeight,L.renderer.setSize(_,j),L.camera.aspect=_/j,L.camera.updateProjectionMatrix(),L.model&&(O()?L.model.scale.set(.5,.5,.5):L.model.scale.set(1,1,1))})),window.getCamPos=function(){var e="";e+="x : "+L.camera.position.x.toFixed(2),e+=", y : "+L.camera.position.y.toFixed(2),e+=", z : "+L.camera.position.z.toFixed(2),console.log(e)};var E=y,G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,150)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),i(e),s(e)}))};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(E,{})}),document.getElementById("root")),G()}},[[149,1,2]]]);
//# sourceMappingURL=main.a50e413b.chunk.js.map