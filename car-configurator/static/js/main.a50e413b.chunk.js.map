{"version":3,"sources":["engine/1.0/index.js","bin/setup.js","App.js","reportWebVitals.js","index.js"],"names":["Engine","$","THREE","GLTFLoader","OrbitControls","TWEEN","WebGL","WebXR","createScene","width","height","color","scene","camera","renderer","antialias","controls","domElement","background","enablePan","autoRotate","autoRotateSpeed","enableDamping","dampingFactor","setSize","lights","render","requestAnimationFrame","renderLoop","update","power","position","set","forEach","l","add","physicallyCorrectLights","outputEncoding","shadowMap","enabled","toneMapping","setPixelRatio","window","devicePixelRatio","toneMappingExposure","Math","pow","pointer","transparent","opacity","f","array","push","loadModel","file","callback","load","model","traverse","child","isMesh","material","emissive","emissiveMap","map","setOrbitPosition","time","object","a","x","y","z","b","Tween","to","onUpdate","obj","easing","Easing","Quintic","Out","onComplete","start","getMesh","name","out","recMesh","type","i","children","length","meshTransit","data","mesh","mtrl","tween","key","val","Object","keys","r","g","setup","logo","init","edit","Paint","icon","focus","items","Red","bg","trans","Orange","Green","Wheels","Black","Silver","Copper","Windows","Plastic","Interior","Brown","Blue","Light","Yellow","audio","Gold","Metal","Frame","App","props","state","modelIndex","editIndex","switchBusy","menuItems","lastModel","bind","nextModel","setEdit","setConf","this","switchModel","k","n","setState","t","id","modules","LightsOff","remove","resetPosition","LightsOn","values","menuData","backgroundImage","className","e","target","innerHTML","pos","setPosition","lang","trn","m","_this","style","onClick","undefined","backgroundColor","menu_state","edit_state","getLoading","getLogo","buildEdit","buildMenu","Component","w","innerWidth","h","innerHeight","isMobile","ground","Mesh","PlaneGeometry","MeshStandardMaterial","rotation","PI","tex","TextureLoader","wrapS","RepeatWrapping","wrapT","repeat","bumpMap","bumpScale","receiveShadow","scale","setTimeout","p","c","d","v","maxPolarAngle","maxDistance","minDistance","addEventListener","document","querySelector","appendChild","aspect","updateProjectionMatrix","getCamPos","toFixed","console","log","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a50e413b.chunk.js","sourcesContent":["import * as THREE from \"three\";\r\nimport { GLTFLoader } from 'three/examples/jsm/loaders/GLTFLoader';\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls';\r\nimport TWEEN from '@tweenjs/tween.js';\r\n\r\nlet Engine = {};\r\n\r\nEngine.$ = {\r\n    THREE : THREE,\r\n    GLTFLoader : GLTFLoader,\r\n    OrbitControls : OrbitControls,\r\n    TWEEN : TWEEN\r\n};\r\n\r\nEngine.WebGL = {};\r\nEngine.WebXR = {};\r\n\r\n// ================================================================================\r\n\r\nEngine.WebGL.createScene = function(width, height, color = '#000') {\r\n\r\n    // modules\r\n    var scene    = new THREE.Scene();\r\n    var camera   = new THREE.PerspectiveCamera(45, width / height, 0.1, 1000);\r\n    var renderer = new THREE.WebGLRenderer({ antialias : true });\r\n    var controls = new OrbitControls(camera, renderer.domElement);\r\n\r\n    // setup\r\n    scene.background = new THREE.Color(color);\r\n    controls.enablePan       = false;\r\n    controls.autoRotate      = true;\r\n    controls.autoRotateSpeed = 0.8;\r\n    controls.enableDamping   = true;\r\n    controls.dampingFactor   = 0.05;\r\n    renderer.setSize(width, height);\r\n\r\n    // lights\r\n    var lights = [\r\n        new THREE.PointLight(0xffee88, 1, 100, 2),\r\n        new THREE.PointLight(0xffffff, 1),\r\n        new THREE.PointLight(0xffffff, 1),\r\n        new THREE.PointLight(0xffffff, 1),\r\n        new THREE.PointLight(0xffffff, 1)\r\n    ];\r\n\r\n    lights[0].power = 0;\r\n    lights[1].power = 0;\r\n    lights[2].power = 0;\r\n    lights[3].power = 0;\r\n    lights[4].power = 0;\r\n\r\n    lights[0].position.set(0, 3, 0);\r\n    lights[1].position.set(0, 0, +4);\r\n    lights[2].position.set(0, 0, -4);\r\n    lights[3].position.set(+4, 0, 0);\r\n    lights[4].position.set(-4, 0, 0);\r\n\r\n    lights.forEach(function(l) { scene.add(l) });\r\n\r\n    renderer.physicallyCorrectLights = true;\r\n    renderer.outputEncoding = THREE.sRGBEncoding;\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.toneMapping = THREE.ReinhardToneMapping;\r\n    renderer.setPixelRatio(window.devicePixelRatio);\r\n    renderer.toneMappingExposure = Math.pow(0.38, 5.0);\r\n    renderer.shadowMap.enabled = true;\r\n\r\n    // render\r\n    function render() {\r\n        requestAnimationFrame(render);\r\n        Engine.WebGL.renderLoop();\r\n        renderer.render(scene, camera);\r\n        controls.update();\r\n        TWEEN.update();\r\n    }; render();\r\n\r\n    // pointer\r\n    var pointer = new THREE.Mesh(\r\n        new THREE.BoxGeometry(2, 1, 0),\r\n        new THREE.MeshStandardMaterial({\r\n            transparent : true,\r\n            opacity : 0\r\n        })\r\n    );\r\n    pointer.position.set(0, -1, 20)\r\n    scene.add(pointer);\r\n\r\n    // return\r\n    return {\r\n        scene      : scene,\r\n        camera     : camera,\r\n        lights     : lights,\r\n        renderer   : renderer,\r\n        controls   : controls,\r\n        pointer    : pointer\r\n    }\r\n};\r\n\r\nEngine.WebGL.renderLoop = function(f = null) {\r\n    if(f === null) {\r\n        Engine.WebGL.renderLoop.array.forEach(function(f) { f(); });\r\n    } else {\r\n        Engine.WebGL.renderLoop.array.push(f);\r\n    }\r\n};\r\n\r\nEngine.WebGL.renderLoop.array = [];\r\n\r\nEngine.WebGL.loadModel = function(file, callback) {\r\n    var loader  = new GLTFLoader();\r\n    loader.load(file, function(model) {\r\n        if(model.scene) { model = model.scene; }\r\n        model.traverse(function(child) {\r\n            if(child.isMesh) {\r\n                child.material.emissive    = child.material.color;\r\n                child.material.emissiveMap = child.material.map;\r\n            }\r\n        });\r\n        callback(model);\r\n    });\r\n};\r\n\r\nEngine.WebGL.setOrbitPosition = function(controls, position, time = 1500) {\r\n    var camera = controls.object;\r\n    var a = { x : camera.position.x, y : camera.position.y, z : camera.position.z };\r\n    var b = position;\r\n    controls.enabled = false;\r\n    controls.autoRotate = false;\r\n    new TWEEN.Tween(a).to(b, time)\r\n    .onUpdate(function(obj) {\r\n        camera.position.set(obj.x, obj.y, obj.z);\r\n        controls.update();\r\n    })\r\n    .easing(TWEEN.Easing.Quintic.Out)\r\n    .onComplete(function() {\r\n        controls.enabled = true;\r\n        controls.update();\r\n    })\r\n    .start();\r\n};\r\n\r\nEngine.WebGL.getMesh = function(model, name) {\r\n    var out = [];\r\n    function recMesh(obj) {\r\n        if(obj.type === 'Mesh' && obj.name === name) { out.push(obj); }\r\n        for(var i = 0; i < obj.children.length; i++) {\r\n            recMesh(obj.children[i]);\r\n        }\r\n    }; recMesh(model);\r\n    return out;\r\n};\r\n\r\nEngine.WebGL.meshTransit = function(model, name, data, time = 500) {\r\n    var mesh = Engine.WebGL.getMesh(model, name)[0];\r\n    var mtrl = mesh.material;\r\n\r\n    function tween(a, b, key) {\r\n        new TWEEN.Tween(a).to(b, time)\r\n            .onUpdate(function(obj) {\r\n                if(key === 'color' || key === 'emissive') { mtrl[key] = obj; }\r\n                if(key === 'opacity') { mtrl[key] = obj.val; }\r\n            })\r\n            .start();\r\n    };\r\n\r\n    Object.keys(data).forEach(function(key) {\r\n        var a, b;\r\n        if(key === 'color' || key === 'emissive') {\r\n            var color = new THREE.Color(data[key]);\r\n            a = { r : mtrl[key].r, g : mtrl[key].g, b : mtrl[key].b };\r\n            b = { r : color.r, g : color.g, b : color.b };\r\n        }\r\n        if(key === 'opacity') {\r\n            a = { val : mtrl[key] };\r\n            b = { val : data[key] };\r\n        }\r\n\r\n        tween(a, b, key);\r\n    });\r\n};\r\n\r\nexport default Engine;","const setup = {};\r\n\r\nsetup['Ford Mustang GT350R'] = {\r\n    file : 'models/ford_mustang_gt350r.glb',\r\n    logo : 'models/ford_mustang_gt350r.png',\r\n    init : {\r\n        lights : [ { x :  1, y : 1, z : 1 }, { x : -1, y : 1, z : 1 } ]\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['object001_Material015_0'],\r\n            items : {\r\n                Red    : { bg : '#e80202', trans : { color : '#e80202' } },\r\n                Orange : { bg : '#b26201', trans : { color : '#ff33cc' } },\r\n                Green  : { bg : '#006600', trans : { color : '#003300' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['wheel003_rim_0001', 'wheel002_rim_0001', 'wheel000_rim_0', 'wheel001_rim_0001'],\r\n            items : {\r\n                Black  : { bg : '#333333', trans : { color : '#131313' } },\r\n                Silver : { bg : '#777777', trans : { color : '#808080' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Windows : {\r\n            icon  : 'images/menu/glasses.png',\r\n            focus : { x : 0.96, y : 0.87, z : -0.57 },\r\n            mesh  : ['object_Windows_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#030303' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.42, y : -0.47, z : -2.59 },\r\n            mesh  : ['object008_Shiny_Black_0'],\r\n            items : {\r\n                Silver : { bg : '#000000', trans : { color : '#010101' } },\r\n                Black  : { bg : '#333333', trans : { color : '#111111' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            focus : { x : -1.81, y : -0.13, z : 1.10 },\r\n            mesh  : ['object016_Material013_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#222222' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#180d01' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nsetup['McLaren MP4-12C'] = {\r\n    file : 'models/mclaren_mp4_12c.glb',\r\n    logo : 'models/mclaren_mp4_12c.png',\r\n    init : {\r\n        lights : [ { x :  1, y : 1, z : 1 }, { x : -1, y : 1, z : 1 } ]\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['object016_Material005_0'],\r\n            items : {\r\n                Orange : { bg : '#ff3e00', trans : { color : '#ff3e00' } },\r\n                Red    : { bg : '#cc0000', trans : { color : '#cc0000' } },\r\n                Green  : { bg : '#006600', trans : { color : '#003300' } },\r\n                Blue   : { bg : '#0033cc', trans : { color : '#0033cc' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['wheel002_object_Material014_0', 'wheel003_object010_Material014_0', 'wheel000_object002_Material014_0', 'wheel001_object008_Material014_0'],\r\n            items : {\r\n                Light  : { bg : '#333333', trans : { color : '#555555' } },\r\n                Silver : { bg : '#777777', trans : { color : '#FFFFFF' } },\r\n                Black  : { bg : '#111111', trans : { color : '#050505' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Windows : {\r\n            icon  : 'images/menu/glasses.png',\r\n            focus : { x : 1.59, y : 1.32, z : 0.20 },\r\n            mesh  : ['object032_object069_Material001_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#030303' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.42, y : -0.47, z : -2.59 },\r\n            mesh  : ['object015_object047_cb_0'],\r\n            items : {\r\n                Silver : { bg : '#555555', trans : { color : '#FFFFFF' } },\r\n                Black  : { bg : '#111111', trans : { color : '#111111' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            focus : { x : -1.81, y : -0.13, z : 1.10 },\r\n            mesh  : ['object000_object074_Material021_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#222222' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#180d01' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nsetup['Nissan Z Proto'] = {\r\n    file : 'models/nissan_z_proto.glb',\r\n    logo : 'models/nissan_z_proto.png',\r\n    init : {\r\n        lights : [ { x :  1, y : 1, z : 1 }, { x : -1, y : 1, z : 1 } ]\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['Mesh_1'],\r\n            items : {\r\n                Yellow : { bg : '#cca100', trans : { color : '#cca100' } },\r\n                Red    : { bg : '#cc0000', trans : { color : '#cc0000' } },\r\n                Green  : { bg : '#006600', trans : { color : '#003300' } },\r\n                Blue   : { bg : '#3333ff', trans : { color : '#000066' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['Mesh_7'],\r\n            items : {\r\n                Black  : { bg : '#070301', trans : { color : '#070301' } },\r\n                Silver : { bg : '#777777', trans : { color : '#808080' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.42, y : -0.47, z : -2.59 },\r\n            mesh  : ['Mesh_10'],\r\n            items : {\r\n                Silver : { bg : '#000000', trans : { color : '#000000' } },\r\n                Black  : { bg : '#333333', trans : { color : '#050505' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\nsetup['Nissan Fairlady Z'] = {\r\n    file : 'models/nissan_fairlady.glb',\r\n    logo : 'models/nissan_fairlady.png',\r\n    init : {\r\n        lights : {\r\n            \"obj_1\" : { x : +0.47, y : -1.15, z : 0.9 },\r\n            \"obj_2\" : { x : -0.43, y : -1.15, z : 0.9 }\r\n        }\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            audio : 'audio/spray.mp3',\r\n            focus : { x : -2.22, y : 0.43, z : 0.42 },\r\n            mesh  : ['Object_17'],\r\n            items : {\r\n                Red   : { bg : '#990000', trans : { color : '#210001' } },\r\n                Green : { bg : '#006600', trans : { color : '#003300' } },\r\n                Blue  : { bg : '#000066', trans : { color : '#00004d' } },\r\n                Gold  : { bg : '#b39800', trans : { color : '#806c00' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            audio : 'audio/spray.mp3',\r\n            focus : { x : 1.40, y : -1.06, z : -1.43 },\r\n            mesh  : ['Object_23'],\r\n            items : {\r\n                Black  : { bg : '#111111', trans : { color : '#111111' } },\r\n                Gold   : { bg : '#b39800', trans : { color : '#b39800' } },\r\n                Silver : { bg : '#808080', trans : { color : '#808080' } }\r\n            }\r\n        },\r\n        Metal : {\r\n            icon  : 'images/menu/metal.png',\r\n            audio : 'audio/metal.mp3',\r\n            focus : { x : 0.80, y : -0.93, z : -2.07 },\r\n            mesh  : ['Object_19'],\r\n            items : {\r\n                Black  : { bg : '#040404', trans : { color : '#040404' } },\r\n                Silver : { bg : '#666666', trans : { color : '#666666' } },\r\n                Gold   : { bg : '#b39800', trans : { color : '#332b00' } }\r\n            }\r\n        },\r\n        Frame : {\r\n            icon  : 'images/menu/frame.png',\r\n            audio : 'audio/metal.mp3',\r\n            focus : { x : -1.77, y : -0.38, z : -0.71 },\r\n            mesh  : ['Object_12'],\r\n            items : {\r\n                Silver : { bg : '#424242', trans : { color : '#424242' } },\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Gold   : { bg : '#b39800', trans : { color : '#b39800' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            audio : 'audio/spray.mp3',\r\n            focus : { x : 1.72, y : -0.01, z : 0.29 },\r\n            mesh  : ['Object_28'],\r\n            items : {\r\n                Silver : { bg : '#424242', trans : { color : '#040404' } },\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n/*\r\nsetup['Chevrolet Corvette C7'] = {\r\n    file : 'models/chevrolet_corvette_c7.glb',\r\n    logo : 'models/chevrolet_corvette_c7..png',\r\n    init : {\r\n        lights : {\r\n            \"obj_1\" : { x : +0.47, y : -1.15, z : 0.9 },\r\n            \"obj_2\" : { x : -0.43, y : -1.1, z : 0.9 }\r\n        }\r\n    },\r\n    edit : {\r\n        Paint : {\r\n            icon  : 'images/menu/paint.png',\r\n            focus : { x : -2.16, y : 0.72, z : 1.07 },\r\n            mesh  : ['CarBody_1_Car_Paint_0001', 'CarBody_1_Car_Paint_0', 'CarBody_1_Car_Paint_0002'],\r\n            items : {\r\n                Blue  : { bg : '#073b64', trans : { color : '#073b64' } },\r\n                Red   : { bg : '#990000', trans : { color : '#210001' } },\r\n                Green : { bg : '#006600', trans : { color : '#003300' } },\r\n                Black : { bg : '#111111', trans : { color : '#000000' } }\r\n            }\r\n        },\r\n        Wheels : {\r\n            icon  : 'images/menu/wheels.png',\r\n            focus : { x : 1.60, y : -1.18, z : -1.63 },\r\n            mesh  : ['Rim_FL_Rim_0', 'Rim_FR_Rim_0', 'Rim_RR_Rim_0', 'Rim_RL_Rim_0'],\r\n            items : {\r\n                Black  : { bg : '#030303', trans : { color : '#030303' } },\r\n                Silver : { bg : '#808080', trans : { color : '#808080' } },\r\n                Copper : { bg : '#331a00', trans : { color : '#1a0d00' } }\r\n            }\r\n        },\r\n        Windows : {\r\n            icon  : 'images/menu/glasses.png',\r\n            focus : { x : 0.96, y : 0.87, z : -0.57 },\r\n            mesh  : ['CarBody_2_Windows_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#030303' } }\r\n            }\r\n        },\r\n        Plastic : {\r\n            icon  : 'images/menu/metal.png',\r\n            focus : { x : 0.55, y : -0.94, z : -2.11 },\r\n            mesh  : ['CarBody_2_Plastic_0'],\r\n            items : {\r\n                Silver : { bg : '#222222', trans : { color : '#020202' } },\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } }\r\n            }\r\n        },\r\n        Interior : {\r\n            icon  : 'images/menu/seats.png',\r\n            focus : { x : -1.81, y : -0.13, z : 1.10 },\r\n            mesh  : ['CarBody_2_Interior_0'],\r\n            items : {\r\n                Black  : { bg : '#000000', trans : { color : '#000000' } },\r\n                Silver : { bg : '#222222', trans : { color : '#222222' } },\r\n                Brown  : { bg : '#331a00', trans : { color : '#180d01' } }\r\n            }\r\n        }\r\n    }\r\n};\r\n*/\r\n\r\nexport default setup;","import React, { Component } from 'react';\nimport Engine from './engine/1.0';\nimport setup from './bin/setup';\nimport './bin/main.css';\nimport './bin/arimac.css';\n\nclass App extends Component {\n\n    constructor(props){\n        super(props);\n        this.state = {\n            modelIndex : -1,\n            editIndex  : null,\n            switchBusy : false,\n            menuItems  : []\n        }\n        this.lastModel = this.lastModel.bind(this);\n        this.nextModel = this.nextModel.bind(this);\n        this.setEdit   = this.setEdit.bind(this);\n        this.setConf   = this.setConf.bind(this);\n    }\n\n    lastModel() { this.switchModel(-1); }\n    nextModel() { this.switchModel(+1); }\n\n    switchModel(k) {\n        if(this.state.switchBusy) { return; }\n        var n = this.state.modelIndex; n += k;\n        var l = Object.keys(setup).length;\n        if(n >= l) { n = 0; } else if(n <= -1) { n = l - 1; }\n        this.setState({ modelIndex : n, switchBusy : true });\n        var t = this;\n        switchModel(n, function(menuData) {\n            t.setState({ switchBusy : false, menuItems : menuData, editIndex : null });\n        });\n    }\n\n    getLogo() {\n        if(this.state.modelIndex === -1) { return {}; }\n        else {\n            var logo = Object.values(setup)[this.state.modelIndex].logo;\n            return { backgroundImage : 'url('+ logo +')' };\n        }\n    }\n\n    getLoading() {\n        if(this.state.switchBusy) {\n            return <div className=\"Loading\"></div>\n        } else { return []; }\n    }\n\n    setEdit(e) {\n        if(this.state.switchBusy) { return; }\n        var key = e.target.innerHTML;\n        if(this.state.editIndex === key) {\n            this.setState({ editIndex : null });\n            resetPosition();\n        } else {\n            this.setState({ editIndex : key });\n            setPosition(this.state.modelIndex, key);\n        }\n    }\n\n    setConf(e) {\n        if(this.state.switchBusy) { return; }\n        var key = this.state.editIndex;\n        var val = e.target.lang;\n        var obj = Object.values(setup)[this.state.modelIndex].edit[key].mesh;\n        var trn = Object.values(setup)[this.state.modelIndex].edit[key].items[val].trans;\n        obj.forEach(function(m) {\n            Engine.WebGL.meshTransit(modules.model, m, trn, 300);\n        });\n    }\n\n    buildMenu() {\n        var _this = this;\n        var out = [];\n        var obj = this.state.menuItems;\n        Object.keys(obj).forEach(function(key) {\n            var bg = `url(${obj[key].icon})`;\n            var id = ``; if(key === _this.state.editIndex) { id = 'edit_type_open'; }\n            out.push(\n                <div\n                    key={key} id={id} className=\"edit_type\"\n                    style={{backgroundImage : bg}}\n                    onClick={_this.setEdit}>\n                    {key}\n                </div>\n            );\n        });\n        return out;\n    }\n\n    buildEdit() {\n        if(this.state.editIndex === null) { return []; }\n        if(Object.values(setup)[this.state.modelIndex].edit[this.state.editIndex] === undefined) {\n            return [];\n        }\n        var _this = this;\n        var out = [];\n        var obj = Object.values(setup)[this.state.modelIndex].edit[this.state.editIndex].items;\n        Object.keys(obj).forEach(function(key) {\n            out.push(\n                <div\n                    key={key}\n                    style={{backgroundColor : obj[key].bg}}\n                    lang={key}\n                    className=\"edit_item\"\n                    onClick={_this.setConf}>\n                </div>\n            );\n        });\n        return out;\n    }\n\n    componentDidMount() { this.nextModel(); }\n\n    render() {\n        var menu_state = '';\n        var edit_state = '';\n        if(this.state.editIndex !== null) {\n            menu_state = 'menu_outer_open';\n            edit_state = 'edit_outer_open';\n        }\n        return (\n            <div>\n                {this.getLoading()}\n                <div className=\"ModelLogo\" style={this.getLogo()}></div>\n                <div className=\"CanvasRoot\"></div>\n                <button className=\"switch switch_l\" onClick={this.lastModel}></button>\n                <button className=\"switch switch_r\" onClick={this.nextModel}></button>\n                <center className=\"edit_outer\" id={ edit_state }>\n                    <div className=\"edit\">{this.buildEdit()}</div>\n                </center>\n                <center className=\"menu_outer\" id={ menu_state }>\n                    <div className=\"menu\">{this.buildMenu()}</div>\n                </center>\n                <div className=\"arimac_logo arimac_logo_white\"></div>\n            </div>\n        );\n    }\n\n};\n\n// ===================================================================\n\nlet w = window.innerWidth;\nlet h = window.innerHeight;\nlet THREE = Engine.$.THREE;\n\nfunction isMobile() {\n    if(window.innerWidth >= window.innerHeight) {\n        return false\n    } else { return true; }\n};\n\nlet modules = Engine.WebGL.createScene(w, h);\n\n//ground\nmodules.ground = new THREE.Mesh(\n    new THREE.PlaneGeometry(38, 38),\n    new THREE.MeshStandardMaterial({ transparent: true, opacity: 0.16 })\n);\nmodules.ground.rotation.x = -Math.PI / 2;\nvar tex = new THREE.TextureLoader()\n    .load('textures/mat_floor.jpg');\ntex.wrapS = THREE.RepeatWrapping;\ntex.wrapT = THREE.RepeatWrapping;\ntex.repeat.set(22, 22);\nmodules.ground.material.map = tex;\nmodules.ground.material.bumpMap = tex;\nmodules.ground.material.bumpScale = 0.1;\nmodules.ground.receiveShadow = true;\nmodules.scene.add(modules.ground);\n\nconst TWEEN = Engine.$.TWEEN;\n\nmodules.controls.autoRotate    = true;\nmodules.controls.maxPolarAngle = 1.6;\nmodules.controls.maxDistance   = 4;\nmodules.controls.minDistance   = 2;\nmodules.camera.position.set(1.72, -0.19, 3.67);\nmodules.controls.target.set(0, -1, 0);\nmodules.ground.position.set(0, -1.25, 0);\n\nwindow.addEventListener('load', function() {\n    document.querySelector('.CanvasRoot')\n        .appendChild(modules.renderer.domElement);\n});\n\nwindow.addEventListener('resize', function() {\n    w = window.innerWidth;\n    h = window.innerHeight;\n    modules.renderer.setSize(w, h);\n    modules.camera.aspect = w / h;\n    modules.camera.updateProjectionMatrix();\n    if(modules.model) {\n        if(isMobile()) { modules.model.scale.set(0.5, 0.5, 0.5); }\n        else { modules.model.scale.set(1, 1, 1); }\n    }\n});\n\n// ==================================================================\n\nfunction switchModel(id, callback = function() {}) {\n    if(modules.model) { LightsOff(function() {\n        if(modules.model) { modules.scene.remove(modules.model); }\n    }); }\n    resetPosition(function() {\n        loadModel(id, function() {\n            LightsOn();\n            modules.controls.autoRotate = true;\n            callback(Object.values(setup)[id].edit);\n        });\n    });\n};\n\nfunction loadModel(id, callback = function() {}) {\n    Engine.WebGL.loadModel(Object.values(setup)[id].file, function(model) {\n        modules.model = model;\n        model.position.set(0, -1.25, 0);\n        if(isMobile()) { model.scale.set(0.5, 0.5, 0.5); }\n        modules.scene.add(model);\n        setTimeout(callback, 100);\n    });\n};\n\nfunction resetPosition(callback = function() {}) {\n    var p = { x : 1.72, y : -0.19, z : 3.67 };\n    Engine.WebGL.setOrbitPosition(modules.controls, p, 1000);\n    modules.controls.autoRotate = true;\n    setTimeout(callback, 1000);\n}\n\nfunction LightsOn(callback = function() {}) {\n    var a = { a : 0, b : 0, c : 0, d : 0, e : 0 };\n    var b = { a : 102500, b : 12021, c : 12021, d : 12021, e : 12021 };\n    new TWEEN.Tween(a).to(b, 700)\n    .onUpdate(function(r) {\n        Object.values(r).forEach(function(v, i) {\n            modules.lights[i].power = v;\n        });\n    }).start();\n    setTimeout(callback, 700);\n};\n\nfunction LightsOff(callback = function() {}) {\n    var a = { a : 102500, b : 12021, c : 12021, d : 12021, e : 12021 };\n    var b = { a : 0, b : 0, c : 0, d : 0, e : 0 };\n    new TWEEN.Tween(a).to(b, 700)\n    .onUpdate(function(r) {\n        Object.values(r).forEach(function(v, i) {\n            modules.lights[i].power = v;\n        });\n    }).start();\n    setTimeout(callback, 700);\n};\n\nfunction setPosition(id, key) {\n    var pos = Object.values(setup)[id].edit[key].focus;\n    Engine.WebGL.setOrbitPosition(modules.controls, pos, 1000);\n}\n\nwindow.getCamPos = function() {\n    var k = '';\n    k += 'x : ' + modules.camera.position.x.toFixed(2);\n    k += ', y : ' + modules.camera.position.y.toFixed(2);\n    k += ', z : ' + modules.camera.position.z.toFixed(2);\n    console.log(k);\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import 'react-app-polyfill/ie11';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();"],"sourceRoot":""}